import org.gradle.api.initialization.resolve.RepositoriesMode

pluginManagement {
    repositories {
        maven {
            name = "stellardriftReleases"
            url = "https://repo.stellardrift.ca/repository/internal/"
            mavenContent { releasesOnly() }
        }
    }
}

plugins {
    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.4.0'
}


rootProject.name = "configurate-vendor"

dependencyResolutionManagement {
    repositoriesMode = RepositoriesMode.FAIL_ON_PROJECT_REPOS
    pluginManagement.repositories.each(repositories.&add)
    versionCatalogs {
        libs {
            from(files("../gradle/libs.versions.toml")) // include from parent project
        }
    }
}

def propsFile = file("gradle.properties")
if (!propsFile.exists()) {
    def s = "# Useful when working on /vendor\n" +
        "#vendor.disableAutoPatchApply=true\n"
    propsFile.write(s)
}

include "snakeyaml"
include "typesafe-config"
findProject(":typesafe-config").projectDir = file("typesafe-config/config")
